<?xml version="1.0" encoding="UTF-8"?>
<skill skill_id="resolve_project" version="0.1">
  <permissions>
    <permission>read_repo</permission>
  </permissions>
  <wake_up state="scan_workspace" />
  <states initial_state="scan_workspace">
    <state id="scan_workspace" on_failure="done">
      <transition event="workspace_detected" target="resolve_targets" />
    </state>
    <state id="resolve_targets" on_failure="done">
      <transition event="target_found" target="done">
        <guard expression="true" />
      </transition>
      <transition event="target_missing" target="fallback_lookup">
        <guard expression="allow_fallback == true" />
      </transition>
    </state>
    <state id="fallback_lookup" on_failure="done">
      <transition event="fallback_resolved" target="done">
        <guard expression="true" />
      </transition>
      <transition event="fallback_failed" target="done">
        <guard expression="true" />
      </transition>
    </state>
    <state id="done" end="true" />
  </states>
</skill>
